(venv) Austins-MacBook-Air-2:volaris aidaewor$ pytest
/Users/aidaewor/Dev/volaris/venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:208: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))
===================================================== test session starts ======================================================
platform darwin -- Python 3.13.3, pytest-8.3.3, pluggy-1.6.0 -- /Users/aidaewor/Dev/volaris/venv/bin/python3.13
cachedir: .pytest_cache
rootdir: /Users/aidaewor/Dev/volaris
configfile: pytest.ini
testpaths: tests
plugins: asyncio-0.24.0, cov-5.0.0, anyio-4.11.0
asyncio: mode=Mode.STRICT, default_loop_scope=None
collected 174 items                                                                                                            

tests/test_alerts_api.py::test_evaluate_price_alerts_triggers PASSED                                                     [  0%]
tests/test_alerts_api.py::test_evaluate_price_alerts_no_matches PASSED                                                   [  1%]
tests/test_bias_context.py::TestBiasContextReasoning::test_ssl_sweep_bullish PASSED                                      [  1%]
tests/test_bias_context.py::TestBiasContextReasoning::test_ssl_sweep_bearish_mismatch PASSED                             [  2%]
tests/test_bias_context.py::TestBiasContextReasoning::test_bsl_sweep_bearish PASSED                                      [  2%]
tests/test_bias_context.py::TestBiasContextReasoning::test_bsl_sweep_bullish_mismatch PASSED                             [  3%]
tests/test_bias_context.py::TestBiasContextReasoning::test_fvg_retest_bullish PASSED                                     [  4%]
tests/test_bias_context.py::TestBiasContextReasoning::test_fvg_retest_bearish PASSED                                     [  4%]
tests/test_bias_context.py::TestBiasContextReasoning::test_structure_shift_bullish PASSED                                [  5%]
tests/test_bias_context.py::TestBiasContextReasoning::test_structure_shift_bearish PASSED                                [  5%]
tests/test_bias_context.py::TestBiasContextReasoning::test_user_manual_returns_empty PASSED                              [  6%]
tests/test_bias_context.py::TestBiasContextReasoning::test_none_bias_reason_returns_empty PASSED                         [  6%]
tests/test_bias_context.py::TestBiasContextReasoning::test_unknown_bias_reason_returns_empty PASSED                      [  7%]
tests/test_config.py::test_settings_validation PASSED                                                                    [  8%]
tests/test_config.py::test_environment_validation PASSED                                                                 [  8%]
tests/test_config.py::test_is_production_flag PASSED                                                                     [  9%]
tests/test_discord_commands.py::TestStrategyCommands::test_plan_command_success PASSED                                   [  9%]
tests/test_discord_commands.py::TestStrategyCommands::test_calc_command_bull_put_spread PASSED                           [ 10%]
tests/test_discord_commands.py::TestStrategyCommands::test_size_command_calculation PASSED                               [ 10%]
tests/test_discord_commands.py::TestStrategyCommands::test_breakeven_bull_call_spread PASSED                             [ 11%]
tests/test_discord_commands.py::TestMarketDataCommands::test_price_command_api_call PASSED                               [ 12%]
tests/test_discord_commands.py::TestMarketDataCommands::test_iv_regime_classification PASSED                             [ 12%]
tests/test_discord_commands.py::TestMarketDataCommands::test_spread_width_validation PASSED                              [ 13%]
tests/test_discord_commands.py::TestMarketDataCommands::test_range_position_calculation PASSED                           [ 13%]
tests/test_discord_commands.py::TestCalculatorCommands::test_pop_calculation PASSED                                      [ 14%]
tests/test_discord_commands.py::TestCalculatorCommands::test_contracts_calculation PASSED                                [ 14%]
tests/test_discord_commands.py::TestCalculatorCommands::test_risk_calculation PASSED                                     [ 15%]
tests/test_discord_commands.py::TestCalculatorCommands::test_dte_calculation PASSED                                      [ 16%]
tests/test_discord_commands.py::TestRefactoredDiscordHelpers::test_symbol_service_prioritises_etfs PASSED                [ 16%]
tests/test_discord_commands.py::TestRefactoredDiscordHelpers::test_create_recommendation_embed_structure PASSED          [ 17%]
tests/test_discord_commands.py::TestRefactoredDiscordHelpers::test_dte_classification PASSED                             [ 17%]
tests/test_discord_commands.py::TestUtilityCommands::test_check_command_health_response PASSED                           [ 18%]
tests/test_discord_commands.py::TestUtilityCommands::test_help_command_embed_structure PASSED                            [ 18%]
tests/test_discord_commands.py::TestInputValidation::test_dte_range_validation PASSED                                    [ 19%]
tests/test_discord_commands.py::TestInputValidation::test_delta_range_validation PASSED                                  [ 20%]
tests/test_discord_commands.py::TestInputValidation::test_strike_format_parsing PASSED                                   [ 20%]
tests/test_discord_commands.py::TestStrikeOrderValidation::test_bull_call_spread_strike_order PASSED                     [ 21%]
tests/test_discord_commands.py::TestStrikeOrderValidation::test_bear_put_spread_strike_order PASSED                      [ 21%]
tests/test_discord_commands.py::TestStrikeOrderValidation::test_bull_put_spread_strike_order PASSED                      [ 22%]
tests/test_discord_commands.py::TestStrikeOrderValidation::test_bear_call_spread_strike_order PASSED                     [ 22%]
tests/test_discord_commands.py::TestRateLimiting::test_rate_limit_check PASSED                                           [ 23%]
tests/test_discord_commands.py::TestRateLimiting::test_rate_limit_reset PASSED                                           [ 24%]
tests/test_discord_commands.py::TestIntegration::test_full_plan_workflow SKIPPED (Integration test - run manually wi...) [ 24%]
tests/test_discord_commands.py::TestIntegration::test_full_calc_workflow SKIPPED (Integration test - run manually wi...) [ 25%]
tests/test_discord_integration.py::TestStrategyRecommendationAPI::test_recommend_strategy_basic SKIPPED (Async HTTP ...) [ 25%]
tests/test_discord_integration.py::TestStrategyRecommendationAPI::test_recommend_strategy_with_bias_reason SKIPPED (...) [ 26%]
tests/test_discord_integration.py::TestStrategyRecommendationAPI::test_recommend_strategy_404_error SKIPPED (Async H...) [ 27%]
tests/test_discord_integration.py::TestStrategyRecommendationAPI::test_recommend_strategy_server_error SKIPPED (Asyn...) [ 27%]
tests/test_discord_integration.py::TestCreditSpreadLogic::test_bull_put_credit_identification PASSED                     [ 28%]
tests/test_discord_integration.py::TestCreditSpreadLogic::test_bear_call_credit_identification PASSED                    [ 28%]
tests/test_discord_integration.py::TestCreditSpreadLogic::test_bull_call_debit_identification PASSED                     [ 29%]
tests/test_discord_integration.py::TestCreditSpreadLogic::test_bear_put_debit_identification PASSED                      [ 29%]
tests/test_discord_integration.py::TestDTEValidation::test_valid_dte_ranges PASSED                                       [ 30%]
tests/test_discord_integration.py::TestDTEValidation::test_invalid_dte_below_minimum PASSED                              [ 31%]
tests/test_discord_integration.py::TestDTEValidation::test_invalid_dte_above_maximum PASSED                              [ 31%]
tests/test_discord_integration.py::TestDTEValidation::test_negative_dte PASSED                                           [ 32%]
tests/test_discord_integration.py::TestBiasReasonIntegration::test_bias_reason_values PASSED                             [ 32%]
tests/test_discord_integration.py::TestBiasReasonIntegration::test_bias_reason_default PASSED                            [ 33%]
tests/test_discord_integration.py::TestBiasReasonIntegration::test_invalid_bias_reason PASSED                            [ 33%]
tests/test_dte_preferences.py::TestDTEPreferences::test_0_7_dte_small_account_converts_long_to_credit PASSED             [ 34%]
tests/test_dte_preferences.py::TestDTEPreferences::test_0_7_dte_medium_account_converts_long_to_credit PASSED            [ 35%]
tests/test_dte_preferences.py::TestDTEPreferences::test_0_7_dte_large_account_allows_long_options PASSED                 [ 35%]
tests/test_dte_preferences.py::TestDTEPreferences::test_0_7_dte_credit_spread_enhanced_reasoning PASSED                  [ 36%]
tests/test_dte_preferences.py::TestDTEPreferences::test_14_45_dte_small_account_converts_long_to_debit PASSED            [ 36%]
tests/test_dte_preferences.py::TestDTEPreferences::test_14_45_dte_large_account_allows_long_options PASSED               [ 37%]
tests/test_dte_preferences.py::TestDTEPreferences::test_14_45_dte_credit_spread_context PASSED                           [ 37%]
tests/test_dte_preferences.py::TestDTEPreferences::test_no_account_size_defaults_to_large PASSED                         [ 38%]
tests/test_dte_preferences.py::TestDTEPreferences::test_greater_than_45_dte_adds_context PASSED                          [ 39%]
tests/test_dte_preferences.py::TestDTEPreferences::test_8_13_dte_minimal_adjustment PASSED                               [ 39%]
tests/test_index_service.py::test_ensure_sp500_constituents_refreshes_when_empty PASSED                                  [ 40%]
tests/test_index_service.py::test_ensure_sp500_constituents_returns_existing PASSED                                      [ 40%]
tests/test_market_data_helpers.py::test_extract_schwab_quote_handles_nested_structure PASSED                             [ 41%]
tests/test_market_data_helpers.py::test_extract_schwab_quote_handles_direct_quote PASSED                                 [ 41%]
tests/test_market_data_helpers.py::test_extract_finnhub_earnings_prefers_matching_symbol PASSED                          [ 42%]
tests/test_market_data_helpers.py::test_extract_finnhub_earnings_returns_none_when_empty PASSED                          [ 43%]
tests/test_market_insights.py::test_fetch_sentiment_aggregates_data FAILED                                               [ 43%]
tests/test_market_insights.py::test_get_top_movers_filters_sp500 PASSED                                                  [ 44%]
tests/test_models.py::test_ticker_symbol_unique_constraint PASSED                                                        [ 44%]
tests/test_models.py::test_price_bar_unique_key PASSED                                                                   [ 45%]
tests/test_models.py::test_watchlist_item_prevents_duplicate_membership PASSED                                           [ 45%]
tests/test_models.py::test_option_contract_unique_per_snapshot PASSED                                                    [ 46%]
tests/test_models.py::test_iv_metrics_unique_time_bucket PASSED                                                          [ 47%]
tests/test_models.py::test_option_snapshot_indexes_defined PASSED                                                        [ 47%]
tests/test_models.py::test_market_structure_level_columns_present PASSED                                                 [ 48%]
tests/test_models.py::test_trade_plan_relationship_fields_exist PASSED                                                   [ 48%]
tests/test_price_alerts_helpers.py::test_should_trigger_above_threshold PASSED                                           [ 49%]
tests/test_price_alerts_helpers.py::test_should_trigger_below_threshold PASSED                                           [ 50%]
tests/test_providers.py::test_tiingo_get_eod_prices FAILED                                                               [ 50%]
tests/test_providers.py::test_tiingo_authentication_error PASSED                                                         [ 51%]
tests/test_providers.py::test_alpaca_get_bars PASSED                                                                     [ 51%]
tests/test_providers.py::test_databento_list_datasets PASSED                                                             [ 52%]
tests/test_providers.py::test_finnhub_get_company_profile PASSED                                                         [ 52%]
tests/test_providers.py::test_finnhub_get_quote PASSED                                                                   [ 53%]
tests/test_providers.py::test_schwab_pkce_generation PASSED                                                              [ 54%]
tests/test_providers.py::test_schwab_authorization_url PASSED                                                            [ 54%]
tests/test_providers.py::test_base_client_rate_limit_handling PASSED                                                     [ 55%]
tests/test_providers.py::test_base_client_server_error_retry FAILED                                                      [ 55%]
tests/test_providers.py::test_provider_manager_get_provider PASSED                                                       [ 56%]
tests/test_providers.py::test_provider_manager_health_check PASSED                                                       [ 56%]
tests/test_providers.py::test_provider_manager_configured_providers PASSED                                               [ 57%]
tests/test_providers.py::test_provider_manager_capabilities PASSED                                                       [ 58%]
tests/test_sp500_scraper.py::test_parse_sp500_table_extracts_symbols PASSED                                              [ 58%]
tests/test_sp500_scraper.py::test_parse_sp500_table_handles_missing_table PASSED                                         [ 59%]
tests/test_strategy_recommendation.py::TestStrategySelection::test_high_iv_bullish_selects_bull_put_credit PASSED        [ 59%]
tests/test_strategy_recommendation.py::TestStrategySelection::test_high_iv_bearish_selects_bear_call_credit PASSED       [ 60%]
tests/test_strategy_recommendation.py::TestStrategySelection::test_low_iv_bullish_selects_long_call PASSED               [ 60%]
tests/test_strategy_recommendation.py::TestStrategySelection::test_low_iv_bearish_selects_long_put PASSED                [ 61%]
tests/test_strategy_recommendation.py::TestStrategySelection::test_neutral_iv_bullish_selects_bull_call_debit PASSED     [ 62%]
tests/test_strategy_recommendation.py::TestStrategySelection::test_neutral_iv_bearish_selects_bear_put_debit PASSED      [ 62%]
tests/test_strategy_recommendation.py::TestStrategySelection::test_prefer_credit_overrides_iv_regime PASSED              [ 63%]
tests/test_strategy_recommendation.py::TestStrategySelection::test_prefer_debit_overrides_iv_regime PASSED               [ 63%]
tests/test_strategy_recommendation.py::TestCompositeScoring::test_high_score_for_good_metrics PASSED                     [ 64%]
tests/test_strategy_recommendation.py::TestCompositeScoring::test_low_score_for_poor_metrics PASSED                      [ 64%]
tests/test_strategy_recommendation.py::TestCompositeScoring::test_credit_quality_scoring PASSED                          [ 65%]
tests/test_strategy_recommendation.py::TestConstraints::test_max_risk_constraint PASSED                                  [ 66%]
tests/test_strategy_recommendation.py::TestConstraints::test_min_pop_constraint PASSED                                   [ 66%]
tests/test_strategy_recommendation.py::TestConstraints::test_min_credit_constraint PASSED                                [ 67%]
tests/test_strategy_recommendation.py::TestConstraints::test_passes_all_constraints PASSED                               [ 67%]
tests/test_strategy_recommendation.py::TestReasoning::test_includes_strategy_reason PASSED                               [ 68%]
tests/test_strategy_recommendation.py::TestReasoning::test_includes_position_context PASSED                              [ 68%]
tests/test_strategy_recommendation.py::TestReasoning::test_highlights_high_rr PASSED                                     [ 69%]
tests/test_strategy_recommendation.py::TestEndToEndRecommendations::test_high_iv_bullish_recommends_credit_spreads PASSED [ 70%]
tests/test_strategy_recommendation.py::TestEndToEndRecommendations::test_low_iv_bearish_recommends_long_puts PASSED      [ 70%]
tests/test_strategy_recommendation.py::TestEndToEndRecommendations::test_recommendations_are_ranked PASSED               [ 71%]
tests/test_strategy_recommendation.py::TestEndToEndRecommendations::test_constraints_filter_candidates PASSED            [ 71%]
tests/test_strategy_recommendation.py::TestEndToEndRecommendations::test_position_sizing_with_account_size PASSED        [ 72%]
tests/test_strategy_recommendation.py::TestEndToEndRecommendations::test_iv_regime_override PASSED                       [ 72%]
tests/test_strategy_recommendation.py::TestEndToEndRecommendations::test_reasoning_bullets_present PASSED                [ 73%]
tests/test_streams_api.py::test_evaluate_price_streams_dispatch PASSED                                                   [ 74%]
tests/test_streams_api.py::test_evaluate_price_streams_no_due_streams PASSED                                             [ 74%]
tests/test_strike_selection.py::TestIVRegime::test_high_iv PASSED                                                        [ 75%]
tests/test_strike_selection.py::TestIVRegime::test_neutral_iv PASSED                                                     [ 75%]
tests/test_strike_selection.py::TestIVRegime::test_low_iv PASSED                                                         [ 76%]
tests/test_strike_selection.py::TestIVRegime::test_none_iv PASSED                                                        [ 77%]
tests/test_strike_selection.py::TestSpreadWidth::test_low_priced_ticker PASSED                                           [ 77%]
tests/test_strike_selection.py::TestSpreadWidth::test_mid_priced_ticker PASSED                                           [ 78%]
tests/test_strike_selection.py::TestSpreadWidth::test_high_priced_ticker PASSED                                          [ 78%]
tests/test_strike_selection.py::TestSpreadWidth::test_custom_max_width PASSED                                            [ 79%]
tests/test_strike_selection.py::TestSpreadMetrics::test_bull_call_spread_debit PASSED                                    [ 79%]
tests/test_strike_selection.py::TestSpreadMetrics::test_bull_put_spread_credit PASSED                                    [ 80%]
tests/test_strike_selection.py::TestStrikeClassification::test_call_itm PASSED                                           [ 81%]
tests/test_strike_selection.py::TestStrikeClassification::test_call_atm PASSED                                           [ 81%]
tests/test_strike_selection.py::TestStrikeClassification::test_call_otm PASSED                                           [ 82%]
tests/test_strike_selection.py::TestStrikeClassification::test_put_itm PASSED                                            [ 82%]
tests/test_strike_selection.py::TestStrikeClassification::test_put_otm PASSED                                            [ 83%]
tests/test_strike_selection.py::TestFindNearestStrikes::test_find_call_strikes PASSED                                    [ 83%]
tests/test_strike_selection.py::TestFindNearestStrikes::test_find_put_strikes PASSED                                     [ 84%]
tests/test_strike_selection.py::TestVerticalSpreadRecommendations::test_bullish_call_spread PASSED                       [ 85%]
tests/test_strike_selection.py::TestVerticalSpreadRecommendations::test_bearish_put_spread PASSED                        [ 85%]
tests/test_strike_selection.py::TestVerticalSpreadRecommendations::test_bullish_put_spread_credit PASSED                 [ 86%]
tests/test_strike_selection.py::TestVerticalSpreadRecommendations::test_bearish_call_spread_credit PASSED                [ 86%]
tests/test_strike_selection.py::TestVerticalSpreadRecommendations::test_min_credit_filter PASSED                         [ 87%]
tests/test_strike_selection.py::TestLongOptionRecommendations::test_long_call_recommendations PASSED                     [ 87%]
tests/test_strike_selection.py::TestLongOptionRecommendations::test_long_put_recommendations PASSED                      [ 88%]
tests/test_strike_selection.py::TestEdgeCases::test_empty_contracts PASSED                                               [ 89%]
tests/test_strike_selection.py::TestEdgeCases::test_missing_marks PASSED                                                 [ 89%]
tests/test_trade_planner.py::TestVerticalSpread::test_bull_call_spread_debit PASSED                                      [ 90%]
tests/test_trade_planner.py::TestVerticalSpread::test_bull_call_spread_with_position_sizing PASSED                       [ 90%]
tests/test_trade_planner.py::TestVerticalSpread::test_bull_put_spread_credit PASSED                                      [ 91%]
tests/test_trade_planner.py::TestVerticalSpread::test_vertical_spread_with_deltas PASSED                                 [ 91%]
tests/test_trade_planner.py::TestLongOption::test_long_call PASSED                                                       [ 92%]
tests/test_trade_planner.py::TestLongOption::test_long_put PASSED                                                        [ 93%]
tests/test_trade_planner.py::TestLongOption::test_long_option_with_delta PASSED                                          [ 93%]
tests/test_trade_planner.py::TestLongOption::test_long_put_with_position_sizing PASSED                                   [ 94%]
tests/test_trade_planner.py::TestPositionSize::test_position_size_basic PASSED                                           [ 94%]
tests/test_trade_planner.py::TestPositionSize::test_position_size_multiple_contracts PASSED                              [ 95%]
tests/test_trade_planner.py::TestPositionSize::test_position_size_high_risk_percentage PASSED                            [ 95%]
tests/test_trade_planner.py::TestPositionSize::test_position_size_exceeds_account PASSED                                 [ 96%]
tests/test_trade_planner.py::TestEdgeCases::test_wide_spread_debit PASSED                                                [ 97%]
tests/test_trade_planner.py::TestEdgeCases::test_narrow_spread_credit PASSED                                             [ 97%]
tests/test_trade_planner.py::TestEdgeCases::test_multiple_contracts PASSED                                               [ 98%]
tests/test_workers_tasks.py::test_fetch_realtime_prices_inserts_price_bar FAILED                                         [ 98%]
tests/test_workers_tasks.py::test_fetch_option_chains_persists_snapshot_and_contracts FAILED                             [ 99%]
tests/test_workers_tasks.py::test_compute_iv_metrics_generates_records FAILED                                            [100%]

=========================================================== FAILURES ===========================================================
_____________________________________________ test_fetch_sentiment_aggregates_data _____________________________________________
tests/test_market_insights.py:44: in test_fetch_sentiment_aggregates_data
    assert result["bullish_percent"] == 65.0
E   assert 12 == 65.0
__________________________________________________ test_tiingo_get_eod_prices __________________________________________________
tests/test_providers.py:49: in test_tiingo_get_eod_prices
    assert prices[0]["symbol"] == "AAPL" or prices[0]["close"] == 185.56
E   KeyError: 'symbol'
_____________________________________________ test_base_client_server_error_retry ______________________________________________
venv/lib/python3.13/site-packages/tenacity/asyncio/__init__.py:114: in __call__
    result = await fn(*args, **kwargs)
app/services/base_client.py:115: in _request
    raise ProviderError(
E   app.services.exceptions.ProviderError: Provider error: 500

The above exception was the direct cause of the following exception:
tests/test_providers.py:264: in test_base_client_server_error_retry
    await client._request("GET", "/test")
venv/lib/python3.13/site-packages/tenacity/asyncio/__init__.py:189: in async_wrapped
    return await copy(fn, *args, **kwargs)
venv/lib/python3.13/site-packages/tenacity/asyncio/__init__.py:111: in __call__
    do = await self.iter(retry_state=retry_state)
venv/lib/python3.13/site-packages/tenacity/asyncio/__init__.py:153: in iter
    result = await action(retry_state)
venv/lib/python3.13/site-packages/tenacity/_utils.py:99: in inner
    return call(*args, **kwargs)
venv/lib/python3.13/site-packages/tenacity/__init__.py:419: in exc_check
    raise retry_exc from fut.exception()
E   tenacity.RetryError: RetryError[<Future at 0x10c070d60 state=finished raised ProviderError>]
_________________________________________ test_fetch_realtime_prices_inserts_price_bar _________________________________________
tests/test_workers_tasks.py:101: in test_fetch_realtime_prices_inserts_price_bar
    session.add(ticker)
E   AttributeError: 'async_generator' object has no attribute 'add'
___________________________________ test_fetch_option_chains_persists_snapshot_and_contracts ___________________________________
tests/test_workers_tasks.py:117: in test_fetch_option_chains_persists_snapshot_and_contracts
    session.add(ticker)
E   AttributeError: 'async_generator' object has no attribute 'add'
__________________________________________ test_compute_iv_metrics_generates_records ___________________________________________
tests/test_workers_tasks.py:135: in test_compute_iv_metrics_generates_records
    session.add(ticker)
E   AttributeError: 'async_generator' object has no attribute 'add'
=================================================== short test summary info ====================================================
FAILED tests/test_market_insights.py::test_fetch_sentiment_aggregates_data - assert 12 == 65.0
FAILED tests/test_providers.py::test_tiingo_get_eod_prices - KeyError: 'symbol'
FAILED tests/test_providers.py::test_base_client_server_error_retry - tenacity.RetryError: RetryError[<Future at 0x10c070d60 state=finished raised ProviderError>]
FAILED tests/test_workers_tasks.py::test_fetch_realtime_prices_inserts_price_bar - AttributeError: 'async_generator' object has no attribute 'add'
FAILED tests/test_workers_tasks.py::test_fetch_option_chains_persists_snapshot_and_contracts - AttributeError: 'async_generator' object has no attribute 'add'
FAILED tests/test_workers_tasks.py::test_compute_iv_metrics_generates_records - AttributeError: 'async_generator' object has no attribute 'add'
===================================== 6 failed, 162 passed, 6 skipped, 7 warnings in 7.65s =====================================